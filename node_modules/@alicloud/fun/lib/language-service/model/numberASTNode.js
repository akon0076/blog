"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const astNode_1 = require("./astNode");
class NumberASTNode extends astNode_1.ASTNode {
    constructor(parent, value, isInteger, start, end) {
        super(parent, 'number', start, end);
        this.isInteger = isInteger;
        this.value = value;
    }
    getValue() {
        return this.value;
    }
    validate(schema, validationResult, matchingSchemas) {
        let typeIsInteger = false;
        if (schema.type === 'integer' ||
            (Array.isArray(schema.type) &&
                schema.type.indexOf('integer') >= 0)) {
            typeIsInteger = true;
        }
        if (typeIsInteger && this.isInteger) {
            this.type = 'integer';
        }
        super.validate(schema, validationResult, matchingSchemas);
        this.type = 'number';
    }
}
exports.NumberASTNode = NumberASTNode;
